<% layout('layout/boilerplate')%>

<div class="mx-auto" id="tags-index">
    <div class="card-body mb-3">
        <h3 class="card-title"><b>Current Tags</b></h3>
        <button class="btn btn-success mb-3" id="add-tag-btn" data-toggle="modal" data-target="#exampleModal">
            Add More Tag
        </button>
        <table class="table table-striped table-bordered" id="tags-table">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Tag _id</th>
                    <th scope="col">Tag body</th>
                    <th scope="col">Number of use</th>
                    <th scope="col">Tools</th>
                </tr>
            </thead>
            <tbody>
                <% for(var i=0 ; i<tags.length ; i++) { %>
                <tr>
                    <th scope="row"><%=i+1%></td>
                    <td><%=tags[i]._id%></td>
                    <td><%=tags[i].body%></td>
                    <th><%=tags[i].countNum%></th>
                    <td>
                        <button class="btn btn-warning">Edit</button>
                    </td>
                </tr>
                <% } %>
            </tbody>
        </table>
    </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content ">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel"><b>New Tag</b></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form action="/tags" method="POST" class="form-validation" novalidate>
                    <div class="mb-3">
                        <label for="tags-id" class="form-label"><b>Tag _id</b> <i>(automatically created)</i></label>
                        <input type="text" id="tags-id" name="tag[_id]" value="<%=tag_id%>" class="form-control" readonly>
                    </div>
                    <div class="mb-3">
                            <label for="tags-body" class="form-label"><b>Tag body</b></label>
                            <input type="text" id="tags-body" name="tag[body]" class="form-control" required autofocus>
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                        <div class="invalid-feedback">
                            Body cannot be blank
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button class="btn btn-success">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>